====================================================
BEFORE FIRST DEPLOY (install nodejs libraries)
====================================================
npm --prefix ./layers/layer-cr-open-ai-client/nodejs install
npm --prefix ./layers/layer-cr-open-sendgrid-email-client/nodejs install
npm --prefix ./layers/layer-cr-twilio-client/nodejs install

====================================================
DEPLOY TEMPLATE
====================================================
sam deploy --stack-name CR-APT-SEARCH --template template.yaml --profile $(cat ../../aws-profile.profile) --capabilities CAPABILITY_NAMED_IAM 


====================================================
DATA LOADING (once the stack has deployed once)
====================================================
Run `sam build` from this directory every time before deploying.

Run 
`sam deploy --stack-name CR-APT-SEARCH --template template.yaml --profile $(cat ../../aws-profile.profile) --capabilities CAPABILITY_NAMED_IAM`

* The first time you deploy, add `--guided` (`sam deploy --guided --stack-name...`) to the above command to generate a configuration file. All subsequent commands do not need the --guided.

====================================================
DATA LOADING
====================================================
aws dynamodb put-item --table-name CR-APT-SEARCH-ConversationRelayAppDatabase --item "$(node ./configuration/dynamo-loaders/apartmentSearchUseCase.js | cat)" --profile $(cat ../../aws-profile.profile)
aws dynamodb put-item --table-name CR-APT-SEARCH-ConversationRelayAppDatabase --item "$(node ./configuration/dynamo-loaders/apartmentData.js | cat)" --profile $(cat ../../aws-profile.profile)